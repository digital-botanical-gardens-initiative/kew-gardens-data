{
    "$schema": "https://vega.github.io/schema/vega/v5.json",
    "description": "Bar chart of species counts by Family",
    "width": 400,
    "height": 200,
    "padding": 5,
    "data": [
        {
            "name": "table",
            "values": [
                {
                    "Family": "Orchidaceae",
                    "Count": 2199
                },
                {
                    "Family": "Cactaceae",
                    "Count": 1886
                },
                {
                    "Family": "Asphodelaceae",
                    "Count": 1116
                },
                {
                    "Family": "Bromeliaceae",
                    "Count": 665
                },
                {
                    "Family": "Araceae",
                    "Count": 641
                },
                {
                    "Family": "Asparagaceae",
                    "Count": 536
                },
                {
                    "Family": "Crassulaceae",
                    "Count": 382
                },
                {
                    "Family": "Aizoaceae",
                    "Count": 327
                },
                {
                    "Family": "Euphorbiaceae",
                    "Count": 324
                },
                {
                    "Family": "Apocynaceae",
                    "Count": 220
                },
                {
                    "Family": "Malvaceae",
                    "Count": 215
                },
                {
                    "Family": "Geraniaceae",
                    "Count": 206
                },
                {
                    "Family": "Fabaceae",
                    "Count": 187
                },
                {
                    "Family": "Ericaceae",
                    "Count": 185
                },
                {
                    "Family": "Nepenthaceae",
                    "Count": 184
                },
                {
                    "Family": "Asteraceae",
                    "Count": 177
                },
                {
                    "Family": "Amaryllidaceae",
                    "Count": 172
                },
                {
                    "Family": "Polypodiaceae",
                    "Count": 171
                },
                {
                    "Family": "Passifloraceae",
                    "Count": 168
                },
                {
                    "Family": "Nymphaeaceae",
                    "Count": 152
                },
                {
                    "Family": "Acanthaceae",
                    "Count": 138
                },
                {
                    "Family": "Lamiaceae",
                    "Count": 127
                },
                {
                    "Family": "Begoniaceae",
                    "Count": 124
                },
                {
                    "Family": "Rubiaceae",
                    "Count": 121
                },
                {
                    "Family": "Solanaceae",
                    "Count": 121
                },
                {
                    "Family": "Arecaceae",
                    "Count": 114
                },
                {
                    "Family": "Gesneriaceae",
                    "Count": 111
                },
                {
                    "Family": "Sarraceniaceae",
                    "Count": 107
                },
                {
                    "Family": "Piperaceae",
                    "Count": 102
                },
                {
                    "Family": "Marantaceae",
                    "Count": 96
                },
                {
                    "Family": "Onagraceae",
                    "Count": 85
                },
                {
                    "Family": "Iridaceae",
                    "Count": 73
                },
                {
                    "Family": "Myrtaceae",
                    "Count": 71
                },
                {
                    "Family": "Rutaceae",
                    "Count": 69
                },
                {
                    "Family": "Aspleniaceae",
                    "Count": 66
                },
                {
                    "Family": "Zingiberaceae",
                    "Count": 63
                },
                {
                    "Family": "Zamiaceae",
                    "Count": 55
                },
                {
                    "Family": "Lentibulariaceae",
                    "Count": 54
                },
                {
                    "Family": "Moraceae",
                    "Count": 49
                },
                {
                    "Family": "Vitaceae",
                    "Count": 45
                },
                {
                    "Family": "Droseraceae",
                    "Count": 44
                },
                {
                    "Family": "Oleaceae",
                    "Count": 43
                },
                {
                    "Family": "Selaginellaceae",
                    "Count": 43
                },
                {
                    "Family": "Primulaceae",
                    "Count": 41
                },
                {
                    "Family": "Bignoniaceae",
                    "Count": 41
                },
                {
                    "Family": "Araliaceae",
                    "Count": 38
                },
                {
                    "Family": "Balsaminaceae",
                    "Count": 35
                },
                {
                    "Family": "Boraginaceae",
                    "Count": 32
                },
                {
                    "Family": "Pteridaceae",
                    "Count": 31
                },
                {
                    "Family": "Commelinaceae",
                    "Count": 30
                },
                {
                    "Family": "Aristolochiaceae",
                    "Count": 30
                },
                {
                    "Family": "Pittosporaceae",
                    "Count": 30
                },
                {
                    "Family": "Poaceae",
                    "Count": 30
                },
                {
                    "Family": "Proteaceae",
                    "Count": 26
                },
                {
                    "Family": "Rosaceae",
                    "Count": 26
                },
                {
                    "Family": "Cyatheaceae",
                    "Count": 25
                },
                {
                    "Family": "Cucurbitaceae",
                    "Count": 24
                },
                {
                    "Family": "Didiereaceae",
                    "Count": 24
                },
                {
                    "Family": "Celastraceae",
                    "Count": 24
                },
                {
                    "Family": "Plantaginaceae",
                    "Count": 23
                },
                {
                    "Family": "Verbenaceae",
                    "Count": 23
                },
                {
                    "Family": "Costaceae",
                    "Count": 21
                },
                {
                    "Family": "Dioscoreaceae",
                    "Count": 21
                },
                {
                    "Family": "Lauraceae",
                    "Count": 20
                },
                {
                    "Family": "Theaceae",
                    "Count": 20
                },
                {
                    "Family": "Lythraceae",
                    "Count": 19
                },
                {
                    "Family": "Sapindaceae",
                    "Count": 19
                },
                {
                    "Family": "Sapotaceae",
                    "Count": 19
                },
                {
                    "Family": "Scrophulariaceae",
                    "Count": 18
                },
                {
                    "Family": "Musaceae",
                    "Count": 17
                },
                {
                    "Family": "Strelitziaceae",
                    "Count": 17
                },
                {
                    "Family": "Cannaceae",
                    "Count": 17
                },
                {
                    "Family": "Melastomataceae",
                    "Count": 17
                },
                {
                    "Family": "Campanulaceae",
                    "Count": 16
                },
                {
                    "Family": "Hydrangeaceae",
                    "Count": 15
                },
                {
                    "Family": "Meliaceae",
                    "Count": 15
                },
                {
                    "Family": "Podocarpaceae",
                    "Count": 15
                },
                {
                    "Family": "Convolvulaceae",
                    "Count": 15
                },
                {
                    "Family": "Aquifoliaceae",
                    "Count": 14
                },
                {
                    "Family": "Anacardiaceae",
                    "Count": 14
                },
                {
                    "Family": "Combretaceae",
                    "Count": 14
                },
                {
                    "Family": "Cyperaceae",
                    "Count": 13
                },
                {
                    "Family": "Cycadaceae",
                    "Count": 13
                },
                {
                    "Family": "Rhamnaceae",
                    "Count": 12
                },
                {
                    "Family": "Urticaceae",
                    "Count": 12
                },
                {
                    "Family": "Violaceae",
                    "Count": 12
                },
                {
                    "Family": "Malpighiaceae",
                    "Count": 11
                },
                {
                    "Family": "Nelumbonaceae",
                    "Count": 11
                },
                {
                    "Family": "Ebenaceae",
                    "Count": 11
                },
                {
                    "Family": "Caprifoliaceae",
                    "Count": 11
                },
                {
                    "Family": "Caryophyllaceae",
                    "Count": 11
                },
                {
                    "Family": "Pandanaceae",
                    "Count": 10
                },
                {
                    "Family": "Salicaceae",
                    "Count": 10
                },
                {
                    "Family": "Lecythidaceae",
                    "Count": 10
                },
                {
                    "Family": "Restionaceae",
                    "Count": 10
                },
                {
                    "Family": "Marattiaceae",
                    "Count": 9
                },
                {
                    "Family": "Annonaceae",
                    "Count": 9
                },
                {
                    "Family": "Welwitschiaceae",
                    "Count": 9
                },
                {
                    "Family": "Phyllanthaceae",
                    "Count": 9
                },
                {
                    "Family": "Francoaceae",
                    "Count": 9
                },
                {
                    "Family": "Cupressaceae",
                    "Count": 8
                },
                {
                    "Family": "Magnoliaceae",
                    "Count": 8
                },
                {
                    "Family": "Anacampserotaceae",
                    "Count": 8
                },
                {
                    "Family": "Monimiaceae",
                    "Count": 8
                },
                {
                    "Family": "Rhizophoraceae",
                    "Count": 8
                },
                {
                    "Family": "Thymelaeaceae",
                    "Count": 8
                },
                {
                    "Family": "Hypericaceae",
                    "Count": 7
                },
                {
                    "Family": "Saxifragaceae",
                    "Count": 7
                },
                {
                    "Family": "Amaranthaceae",
                    "Count": 7
                },
                {
                    "Family": "Simmondsiaceae",
                    "Count": 7
                },
                {
                    "Family": "Clusiaceae",
                    "Count": 7
                },
                {
                    "Family": "Pentaphylacaceae",
                    "Count": 6
                },
                {
                    "Family": "Schisandraceae",
                    "Count": 6
                },
                {
                    "Family": "Putranjivaceae",
                    "Count": 6
                },
                {
                    "Family": "Ranunculaceae",
                    "Count": 6
                },
                {
                    "Family": "Polygonaceae",
                    "Count": 6
                },
                {
                    "Family": "Brassicaceae",
                    "Count": 6
                },
                {
                    "Family": "Menispermaceae",
                    "Count": 6
                },
                {
                    "Family": "Asteliaceae",
                    "Count": 6
                },
                {
                    "Family": "Capparaceae",
                    "Count": 6
                },
                {
                    "Family": "Nyctaginaceae",
                    "Count": 5
                },
                {
                    "Family": "Elaeocarpaceae",
                    "Count": 5
                },
                {
                    "Family": "Equisetaceae",
                    "Count": 5
                },
                {
                    "Family": "Dennstaedtiaceae",
                    "Count": 5
                },
                {
                    "Family": "Doryanthaceae",
                    "Count": 5
                },
                {
                    "Family": "Pedaliaceae",
                    "Count": 5
                },
                {
                    "Family": "Oxalidaceae",
                    "Count": 5
                },
                {
                    "Family": "Schizaeaceae",
                    "Count": 4
                },
                {
                    "Family": "Ochnaceae",
                    "Count": 4
                },
                {
                    "Family": "Caricaceae",
                    "Count": 4
                },
                {
                    "Family": "Chloranthaceae",
                    "Count": 4
                },
                {
                    "Family": "Hypoxidaceae",
                    "Count": 4
                },
                {
                    "Family": "Polemoniaceae",
                    "Count": 4
                },
                {
                    "Family": "Burseraceae",
                    "Count": 4
                },
                {
                    "Family": "Haemodoraceae",
                    "Count": 4
                },
                {
                    "Family": "Apiaceae",
                    "Count": 4
                },
                {
                    "Family": "Zygophyllaceae",
                    "Count": 4
                },
                {
                    "Family": "Berberidaceae",
                    "Count": 3
                },
                {
                    "Family": "Smilacaceae",
                    "Count": 3
                },
                {
                    "Family": "Hymenophyllaceae",
                    "Count": 3
                },
                {
                    "Family": "Fouquieriaceae",
                    "Count": 3
                },
                {
                    "Family": "Pinaceae",
                    "Count": 3
                },
                {
                    "Family": "Actinidiaceae",
                    "Count": 3
                },
                {
                    "Family": "Clethraceae",
                    "Count": 3
                },
                {
                    "Family": "Marcgraviaceae",
                    "Count": 3
                },
                {
                    "Family": "Tecophilaeaceae",
                    "Count": 3
                },
                {
                    "Family": "Heliconiaceae",
                    "Count": 3
                },
                {
                    "Family": "Hamamelidaceae",
                    "Count": 3
                },
                {
                    "Family": "Calceolariaceae",
                    "Count": 3
                },
                {
                    "Family": "Colchicaceae",
                    "Count": 3
                },
                {
                    "Family": "Fagaceae",
                    "Count": 3
                },
                {
                    "Family": "Drosophyllaceae",
                    "Count": 3
                },
                {
                    "Family": "Phytolaccaceae",
                    "Count": 2
                },
                {
                    "Family": "Araucariaceae",
                    "Count": 2
                },
                {
                    "Family": "Hernandiaceae",
                    "Count": 2
                },
                {
                    "Family": "Icacinaceae",
                    "Count": 2
                },
                {
                    "Family": "Quillajaceae",
                    "Count": 2
                },
                {
                    "Family": "Liliaceae",
                    "Count": 2
                },
                {
                    "Family": "Orobanchaceae",
                    "Count": 2
                },
                {
                    "Family": "Philesiaceae",
                    "Count": 2
                },
                {
                    "Family": "Ephedraceae",
                    "Count": 2
                },
                {
                    "Family": "Cornaceae",
                    "Count": 2
                },
                {
                    "Family": "Escalloniaceae",
                    "Count": 2
                },
                {
                    "Family": "Cephalotaceae",
                    "Count": 2
                },
                {
                    "Family": "Cyclanthaceae",
                    "Count": 2
                },
                {
                    "Family": "Cunoniaceae",
                    "Count": 2
                },
                {
                    "Family": "Rousseaceae",
                    "Count": 2
                },
                {
                    "Family": "Olacaceae",
                    "Count": 2
                },
                {
                    "Family": "Talinaceae",
                    "Count": 2
                },
                {
                    "Family": "Ophioglossaceae",
                    "Count": 2
                },
                {
                    "Family": "Aextoxicaceae",
                    "Count": 2
                },
                {
                    "Family": "Stilbaceae",
                    "Count": 2
                },
                {
                    "Family": "Pontederiaceae",
                    "Count": 2
                },
                {
                    "Family": "Velloziaceae",
                    "Count": 2
                },
                {
                    "Family": "Argophyllaceae",
                    "Count": 2
                },
                {
                    "Family": "Buxaceae",
                    "Count": 2
                },
                {
                    "Family": "Salvadoraceae",
                    "Count": 2
                },
                {
                    "Family": "Plumbaginaceae",
                    "Count": 2
                },
                {
                    "Family": "Roridulaceae",
                    "Count": 2
                },
                {
                    "Family": "Platanaceae",
                    "Count": 2
                },
                {
                    "Family": "Kewaceae",
                    "Count": 2
                },
                {
                    "Family": "Atherospermataceae",
                    "Count": 2
                },
                {
                    "Family": "Chrysobalanaceae",
                    "Count": 2
                },
                {
                    "Family": "Griseliniaceae",
                    "Count": 1
                },
                {
                    "Family": "Haloragaceae",
                    "Count": 1
                },
                {
                    "Family": "Ripogonaceae",
                    "Count": 1
                },
                {
                    "Family": "Garryaceae",
                    "Count": 1
                },
                {
                    "Family": "Aphanopetalaceae",
                    "Count": 1
                },
                {
                    "Family": "Linaceae",
                    "Count": 1
                },
                {
                    "Family": "Taxaceae",
                    "Count": 1
                },
                {
                    "Family": "Saururaceae",
                    "Count": 1
                },
                {
                    "Family": "Marchantiaceae",
                    "Count": 1
                },
                {
                    "Family": "Papaveraceae",
                    "Count": 1
                },
                {
                    "Family": "Alstroemeriaceae",
                    "Count": 1
                },
                {
                    "Family": "Marsileaceae",
                    "Count": 1
                },
                {
                    "Family": "Simaroubaceae",
                    "Count": 1
                },
                {
                    "Family": "Acoraceae",
                    "Count": 1
                },
                {
                    "Family": "Joinvilleaceae",
                    "Count": 1
                },
                {
                    "Family": "Mazaceae",
                    "Count": 1
                },
                {
                    "Family": "Aphloiaceae",
                    "Count": 1
                },
                {
                    "Family": "Petiveriaceae",
                    "Count": 1
                },
                {
                    "Family": "Schlegeliaceae",
                    "Count": 1
                },
                {
                    "Family": "Sarcolaenaceae",
                    "Count": 1
                },
                {
                    "Family": "Flagellariaceae",
                    "Count": 1
                },
                {
                    "Family": "Eupomatiaceae",
                    "Count": 1
                },
                {
                    "Family": "Gnetaceae",
                    "Count": 1
                },
                {
                    "Family": "Physenaceae",
                    "Count": 1
                },
                {
                    "Family": "Typhaceae",
                    "Count": 1
                },
                {
                    "Family": "Myristicaceae",
                    "Count": 1
                },
                {
                    "Family": "Austrobaileyaceae",
                    "Count": 1
                },
                {
                    "Family": "Achariaceae",
                    "Count": 1
                },
                {
                    "Family": "Santalaceae",
                    "Count": 1
                },
                {
                    "Family": "Lindsaeaceae",
                    "Count": 1
                },
                {
                    "Family": "Stemonaceae",
                    "Count": 1
                },
                {
                    "Family": "Dilleniaceae",
                    "Count": 1
                },
                {
                    "Family": "Potamogetonaceae",
                    "Count": 1
                },
                {
                    "Family": "Goodeniaceae",
                    "Count": 1
                },
                {
                    "Family": "Calophyllaceae",
                    "Count": 1
                },
                {
                    "Family": "Moringaceae",
                    "Count": 1
                },
                {
                    "Family": "Loasaceae",
                    "Count": 1
                },
                {
                    "Family": "Basellaceae",
                    "Count": 1
                },
                {
                    "Family": "Hanguanaceae",
                    "Count": 1
                },
                {
                    "Family": "Curtisiaceae",
                    "Count": 1
                }
            ]
        }
    ],
    "scales": [
        {
            "name": "xscale",
            "type": "band",
            "domain": {
                "data": "table",
                "field": "Family"
            },
            "range": "width",
            "padding": 0.05,
            "round": true
        },
        {
            "name": "yscale",
            "domain": {
                "data": "table",
                "field": "Count"
            },
            "nice": true,
            "range": "height"
        }
    ],
    "axes": [
        {
            "orient": "bottom",
            "scale": "xscale"
        },
        {
            "orient": "left",
            "scale": "yscale"
        }
    ],
    "marks": [
        {
            "type": "rect",
            "from": {
                "data": "table"
            },
            "encode": {
                "enter": {
                    "x": {
                        "scale": "xscale",
                        "field": "Family"
                    },
                    "width": {
                        "scale": "xscale",
                        "band": 1
                    },
                    "y": {
                        "scale": "yscale",
                        "field": "Count"
                    },
                    "y2": {
                        "scale": "yscale",
                        "value": 0
                    }
                },
                "update": {
                    "fill": {
                        "value": "#4682b4"
                    }
                },
                "hover": {
                    "fillOpacity": {
                        "value": 0.7
                    }
                }
            }
        },
        {
            "type": "text",
            "encode": {
                "enter": {
                    "align": {
                        "value": "center"
                    },
                    "baseline": {
                        "value": "bottom"
                    },
                    "fill": {
                        "value": "#333"
                    }
                },
                "update": {
                    "x": {
                        "scale": "xscale",
                        "field": "Family",
                        "band": 0.5
                    },
                    "y": {
                        "scale": "yscale",
                        "field": "Count",
                        "offset": -2
                    },
                    "text": {
                        "field": "Count"
                    },
                    "fillOpacity": [
                        {
                            "test": "datum.Count > 0",
                            "value": 1
                        },
                        {
                            "value": 0
                        }
                    ]
                }
            }
        }
    ]
}